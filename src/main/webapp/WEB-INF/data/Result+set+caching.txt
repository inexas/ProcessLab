The [DataView plugin] can render data taken from databases. The data is exported by way of a SQL SELECT statement. When the database is large and the SQL statement complex queries can take a long time. In extreme cases this might mean that a page containing reports might take minutes or even hours to run.

Two features in ProcessLab can be used in conjunction to address this problem: result set caching described here and [result set scheduling]. Caching allows will save the results of a query for reuse for a specific time period and scheduling allows you to make a specific query, typically during the night time and cache it so that when people need it the reuslt set is loaded  immediately.

!!! User guide
Setting up caching is easy. You need only add the 'cached=?' parameter to the DataView plugin specification. For example the result set in the table below is cached for 10 minutes.
{{{
[{DataView db=demo size=xs cached=10 sql='SELECT * FROM Products'}]
}}}
[{DataView db=demo size=xs cached=10 sql='SELECT * FROM Products'}]

\\
The cached parameter specifies the result set generated by the SELECT statement will be cached for 60 minutes.
* cached=60: Cache for 1 hour
* cached=1440: Cache for 1 day
* cached=10080: Cache for 1 week
* cached=40320: Cache for 4 weeks

The result set used to generated the table below is cached for 10 minutes

When the cache is used you will see the text: "Data from: ''date''" under the rendered object like this.
%%center
[Cached.png]
%%
If you mouse over the text you will see how long it has been cached for and if you click on it you can refresh the cached.

!!! Implementation guide
If the result set is cached, the DataServlet will take the result set directly from a SQL query, if it is cached it will take it through a the DataCache object.

!! The cache
The cache is implemented in the DiskDataCache class. Cached data sets are streamed to files. The file name is given a unique name and an extension of ".cached". The files are stored in the "webapps/<webapp>/work/cache/ directory.

A housekeeping thread cleans up any expired cached items every 15 minutes.
